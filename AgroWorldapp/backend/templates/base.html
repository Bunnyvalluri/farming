<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agro World | Smart Farming</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Inter:wght@400;500;600;700&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: {
              50: '#f0fdf4',
              100: '#dcfce7',
              200: '#bbf7d0',
              300: '#86efac',
              400: '#4ade80',
              500: '#22c55e',
              600: '#16a34a',
              700: '#15803d',
              800: '#166534',
              900: '#14532d',
              950: '#052e16',
            },
            accent: '#f59e0b',
          },
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
            outfit: ['Outfit', 'sans-serif'],
          },
          animation: {
            'float': 'float 6s ease-in-out infinite',
            'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
          },
          keyframes: {
            float: {
              '0%, 100%': { transform: 'translateY(0)' },
              '50%': { transform: 'translateY(-20px)' },
            }
          }
        }
      }
    }
  </script>
  <style type="text/tailwindcss">
    @layer base {
      body {
        @apply font-sans bg-slate-50 text-slate-900 antialiased;
      }
      h1, h2, h3, h4, h5, h6 {
        @apply font-outfit font-bold;
      }
    }
    @layer components {
      .glass {
        @apply bg-white/70 backdrop-blur-md border border-white/20;
      }
      .btn-primary {
        @apply px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-semibold transition-all duration-300 shadow-lg shadow-primary-600/20 hover:shadow-primary-600/40 hover:-translate-y-0.5 active:translate-y-0 text-center;
      }
      .nav-link {
        @apply flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-primary-600 font-medium transition-colors rounded-lg hover:bg-primary-50;
      }
      .nav-link.active {
        @apply text-primary-600 bg-primary-50;
      }
    }
    @keyframes toastIn {
      from { transform: translateY(100px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    @keyframes toastOut {
      from { transform: translateY(0); opacity: 1; }
      to { transform: translateY(100px); opacity: 0; }
    }
  </style>
  {% block head %}{% endblock %}
</head>

<body class="min-h-screen flex flex-col">
  <!-- Progress Bar -->
  <div id="loadingBar" class="fixed top-0 left-0 h-1 bg-primary-500 z-[100] transition-all duration-500 w-0"></div>

  <!-- Modern Navigation -->
  <nav class="sticky top-0 z-[50] glass border-b border-slate-200">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-20">
        <!-- Logo -->
        <div class="flex items-center gap-8">
          <a href="/" class="flex items-center gap-2 group">
            <div
              class="w-10 h-10 bg-primary-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-primary-600/30 group-hover:rotate-12 transition-transform duration-300">
              <i class="fa-solid fa-leaf text-xl"></i>
            </div>
            <span
              class="text-2xl font-outfit font-extrabold tracking-tight text-slate-900 group-hover:text-primary-600 transition-colors">AGRO
              WORLD</span>
          </a>

          <!-- Desktop Navigation -->
          <div class="hidden lg:flex items-center gap-1">
            <a href="/weather" class="nav-link" data-key="nav_weather"><i class="fa-solid fa-cloud-sun text-sm"></i>
              Weather</a>
            <a href="/news" class="nav-link" data-key="nav_news"><i class="fa-solid fa-newspaper text-sm"></i> News</a>
            <a href="/market" class="nav-link" data-key="nav_market"><i class="fa-solid fa-chart-line text-sm"></i>
              Market</a>
            <a href="/schemes" class="nav-link" data-key="nav_schemes"><i
                class="fa-solid fa-hand-holding-dollar text-sm"></i> Schemes</a>
            <a href="/tasks" class="nav-link" data-key="nav_tasks"><i class="fa-solid fa-list-check text-sm"></i>
              Tasks</a>
            <a href="/crop-care" class="nav-link" data-key="nav_crop"><i class="fa-solid fa-bug-slash text-sm"></i> Crop
              Care</a>
            <a href="/logistics" class="nav-link" data-key="nav_logistics"><i
                class="fa-solid fa-truck-fast text-sm"></i> Logistics</a>
          </div>
        </div>

        <!-- Actions -->
        <div class="flex items-center gap-4">
          <button onclick="toggleLanguage()" id="langBtn"
            class="flex items-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-full font-semibold transition-all border border-slate-200">
            <i class="fa-solid fa-language text-lg"></i>
            <span>हिन्दी</span>
          </button>

          {% if session.get('user_id') %}
          <div class="flex items-center gap-3 pl-4 border-l border-slate-200">
            <div
              class="w-10 h-10 bg-primary-100 text-primary-700 rounded-full flex items-center justify-center font-bold">
              <i class="fa-solid fa-user"></i>
            </div>
            <a href="/logout"
              class="px-4 py-2 text-rose-600 hover:bg-rose-50 rounded-lg font-medium transition-colors border border-rose-100 italic">Logout</a>
          </div>
          {% else %}
          <a href="/login" class="btn-primary" data-key="nav_login">Login</a>
          {% endif %}

          <!-- Mobile Menu Button -->
          <button
            class="lg:hidden w-10 h-10 flex items-center justify-center text-slate-600 hover:bg-slate-100 rounded-lg"
            onclick="toggleMobileMenu()">
            <i class="fa-solid fa-bars text-xl"></i>
          </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Mobile Menu (Hidden by default) -->
  <div id="mobileMenu" class="fixed inset-0 z-[60] bg-white hidden lg:hidden">
    <div class="p-4 border-b">
      <div class="flex justify-between items-center">
        <span class="font-outfit font-extrabold text-xl text-primary-600">MENU</span>
        <button onclick="toggleMobileMenu()" class="text-slate-600 text-2xl">&times;</button>
      </div>
    </div>
    <div class="p-4 flex flex-col gap-2 overflow-y-auto">
      <a href="/weather" class="px-4 py-3 rounded-xl hover:bg-slate-50 font-medium flex items-center gap-3"><i
          class="fa-solid fa-cloud-sun w-6"></i> Weather</a>
      <a href="/news" class="px-4 py-3 rounded-xl hover:bg-slate-50 font-medium flex items-center gap-3"><i
          class="fa-solid fa-newspaper w-6"></i> News</a>
      <a href="/market" class="px-4 py-3 rounded-xl hover:bg-slate-50 font-medium flex items-center gap-3"><i
          class="fa-solid fa-chart-line w-6"></i> Market</a>
      <a href="/schemes" class="px-4 py-3 rounded-xl hover:bg-slate-50 font-medium flex items-center gap-3"><i
          class="fa-solid fa-hand-holding-dollar w-6"></i> Schemes</a>
      <a href="/tasks" class="px-4 py-3 rounded-xl hover:bg-slate-50 font-medium flex items-center gap-3"><i
          class="fa-solid fa-list-check w-6"></i> Tasks</a>
      <a href="/crop-care" class="px-4 py-3 rounded-xl hover:bg-slate-50 font-medium flex items-center gap-3"><i
          class="fa-solid fa-bug-slash w-6"></i> Crop Care</a>
      <a href="/logistics" class="px-4 py-3 rounded-xl hover:bg-slate-50 font-medium flex items-center gap-3"><i
          class="fa-solid fa-truck-fast w-6"></i> Logistics</a>
    </div>
  </div>

  <main class="flex-grow">
    {% block content %}{% endblock %}
  </main>

  <footer class="bg-slate-900 text-slate-400 py-16 mt-auto">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12">
        <div class="col-span-1 lg:col-span-1">
          <a href="/" class="flex items-center gap-2 mb-6">
            <div class="w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center text-white">
              <i class="fa-solid fa-leaf text-sm"></i>
            </div>
            <span class="text-xl font-outfit font-extrabold text-white tracking-tight">AGRO WORLD</span>
          </a>
          <p class="text-sm leading-relaxed" data-key="footer_desc">Empowering small-scale farmers with big-scale
            technology. Your partner in modern agriculture.</p>
        </div>

        <div>
          <h4 class="text-white font-bold mb-6" data-key="footer_links">Quick Links</h4>
          <ul class="space-y-4 text-sm">
            <li><a href="/weather" class="hover:text-primary-400 transition-colors" data-key="footer_weather">Weather
                Updates</a></li>
            <li><a href="/logistics" class="hover:text-primary-400 transition-colors"
                data-key="footer_logistics">Logistics Support</a></li>
            <li><a href="/tasks" class="hover:text-primary-400 transition-colors" data-key="footer_tasks">Task
                Manager</a></li>
          </ul>
        </div>

        <div>
          <h4 class="text-white font-bold mb-6" data-key="footer_support">Support</h4>
          <ul class="space-y-4 text-sm">
            <li class="flex items-center gap-3">
              <i class="fa-solid fa-envelope text-primary-500"></i>
              <span>help@agroworld.in</span>
            </li>
            <li class="flex items-center gap-3">
              <i class="fa-solid fa-phone text-primary-500"></i>
              <span>+91 1800-AGRO-SAFE</span>
            </li>
          </ul>
        </div>

        <div>
          <h4 class="text-white font-bold mb-6">Newsletter</h4>
          <p class="text-sm mb-4">Get the latest farming tips and market updates directly.</p>
          <div class="flex gap-2">
            <input type="email" placeholder="Email address"
              class="bg-slate-800 border-none rounded-lg px-4 py-2 text-sm w-full focus:ring-2 focus:ring-primary-500">
            <button class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors"><i
                class="fa-solid fa-paper-plane"></i></button>
          </div>
        </div>
      </div>

      <div class="pt-8 border-t border-slate-800 flex flex-col md:flex-row justify-between items-center gap-4 text-xs">
        <p data-key="footer_copy">© 2026 Agro World | Smart Farming Decision Support System</p>
        <div class="flex gap-6 text-slate-500">
          <a href="#" class="hover:text-white transition-colors">Privacy Policy</a>
          <a href="#" class="hover:text-white transition-colors">Terms of Service</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Global Toast System -->
  <div id="toastContainer" class="fixed bottom-8 left-1/2 -translate-x-1/2 z-[100] flex flex-col gap-3"></div>

  <script>
    // Real-world Toast Notification System
    function showToast(message, type = 'success') {
      const container = document.getElementById('toastContainer');
      const toast = document.createElement('div');
      const bgColor = type === 'success' ? 'bg-primary-600' : 'bg-rose-600';
      const icon = type === 'success' ? 'fa-circle-check' : 'fa-triangle-exclamation';

      toast.className = `${bgColor} text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-3 font-semibold text-sm whitespace-nowrap`;
      toast.style.animation = 'toastIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards';

      toast.innerHTML = `<i class="fa-solid ${icon}"></i> <span>${message}</span>`;
      container.appendChild(toast);

      setTimeout(() => {
        toast.style.animation = 'toastOut 0.3s ease-in forwards';
        setTimeout(() => toast.remove(), 300);
      }, 4000);
    }

    // Loading bar simulation
    window.addEventListener('beforeunload', () => {
      document.getElementById('loadingBar').style.width = '70%';
    });

    function toggleMobileMenu() {
      const menu = document.getElementById('mobileMenu');
      menu.classList.toggle('hidden');
    }

    const translations = {
      'en': {
        'nav_weather': 'Weather', 'nav_news': 'News', 'nav_tasks': 'Tasks', 'nav_crop': 'Crop Care', 'nav_logistics': 'Logistics', 'nav_market': 'Market Prices', 'nav_schemes': 'Govt Schemes', 'nav_login': 'Login',
        'footer_desc': 'Empowering small-scale farmers with big-scale technology.', 'footer_links': 'Quick Links', 'footer_weather': 'Weather Updates', 'footer_logistics': 'Logistics Support', 'footer_tasks': 'Task Manager', 'footer_support': 'Support', 'footer_copy': '© 2026 Agro World | Smart Farming Decision Support System'
      },
      'hi': {
        'nav_weather': 'मौसम', 'nav_news': 'समाचार', 'nav_tasks': 'कार्य', 'nav_crop': 'फसल देखभाल', 'nav_logistics': 'रसद', 'nav_market': 'मंडी भाव', 'nav_schemes': 'सरकारी योजनाएं', 'nav_login': 'लॉगिन',
        'footer_desc': 'बड़े पैमाने की तकनीक के साथ छोटे पैमाने के किसानों को सशक्त बनाना।', 'footer_links': 'त्वरित लिंक', 'footer_weather': 'मौसम अद्यतन', 'footer_logistics': 'लॉजिस्टिक्स सहायता', 'footer_tasks': 'कार्य प्रबंधक', 'footer_support': 'सहायता', 'footer_copy': '© 2026 एग्रो वर्ल्ड | स्मार्ट फार्मिंग डिसीजन सपोर्ट सिस्टम'
      },
      'te': {
        'nav_weather': 'వాతావరణం', 'nav_news': 'వార్తలు', 'nav_tasks': 'పనులు', 'nav_crop': 'పంట సంరక్షణ', 'nav_logistics': 'రవాణా', 'nav_market': 'మార్కెట్ ధరలు', 'nav_schemes': 'ప్రభుత్వ పథకాలు', 'nav_login': 'లాగిన్',
        'footer_desc': 'భారీ-స్థాయి సాంకేతికతతో చిన్న-కారు రైతుల సాధికారత.', 'footer_links': 'త్వరిత లింకులు', 'footer_weather': 'వాతావరణ అప్‌డేట్స్', 'footer_logistics': 'రవాణా మద్దతు', 'footer_tasks': 'పని నిర్వాహకుడు', 'footer_support': 'మద్దతు', 'footer_copy': '© 2026 అగ్రో వరల్డ్ | స్మార్ట్ ఫార్మింగ్ డెసిషన్ సపోర్ట్ సిస్టమ్'
      }
    };

    const langLabels = { 'en': 'English', 'hi': 'हिन्दी', 'te': 'తెలుగు' };
    let currentLang = localStorage.getItem('agroLang') || 'en';

    function applyTranslations() {
      document.querySelectorAll('[data-key]').forEach(el => {
        const key = el.getAttribute('data-key');
        if (translations[currentLang] && translations[currentLang][key]) {
          if (el.tagName === 'INPUT' && el.hasAttribute('placeholder')) {
            el.placeholder = translations[currentLang][key];
          } else {
            el.innerHTML = translations[currentLang][key];
          }
        }
      });
      const langBtn = document.getElementById('langBtn');
      if (langBtn) langBtn.querySelector('span').innerText = langLabels[currentLang];
    }

    function toggleLanguage() {
      const languages = ['en', 'hi', 'te'];
      let idx = languages.indexOf(currentLang);
      currentLang = languages[(idx + 1) % languages.length];
      localStorage.setItem('agroLang', currentLang);
      applyTranslations();
      const toastMsg = { 'en': 'Language changed to English', 'hi': 'भाषा बदलकर हिंदी कर दी गई', 'te': 'భాష తెలుగులోకి మార్చబడింది' };
      showToast(toastMsg[currentLang], 'success');
    }

    document.querySelectorAll('.nav-link').forEach(link => {
      if (link.href === window.location.href) { link.classList.add('active'); }
    });

    applyTranslations();
  </script>
  {% block scripts %}{% endblock %}
</body>

</html>